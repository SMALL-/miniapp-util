!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(this,function(){"use strict";function t(t,n){return n={exports:{}},t(n,n.exports),n.exports}function n(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new r(function(e,o){var r=t.success||i,u=t.fail||i;t.success=function(t){r(t),e(t.confirm?!0:!1)},t.fail=function(t){u(t),o(t)},t.showCancel=n,wx.showModal(t)})}function e(t){return"string"==typeof t?{title:title,content:opt}:t}var o=t(function(t,n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o){function r(t){return"object"===("undefined"==typeof t?"undefined":e(t))&&"number"==typeof t.length&&(t[0]||!t[0]&&t[0]+""=="")}function i(){for(var t=0;t<P.length;t++)P[t][0](P[t][1]);P=[],w=!1}function u(t,n){P.push([t,n]),w||(w=!0,T(i,0))}function f(t,n){function e(t){s(n,t)}function o(t){h(n,t)}try{t(e,o)}catch(t){o(t)}}function c(t){var n=t.owner,e=n.state_,o=n.data_,r=t[e],i=t.then;if("function"==typeof r){e=_;try{o=r(o)}catch(t){h(i,t)}}a(i,o)||(e===_&&s(i,o),e===j&&h(i,o))}function a(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===("undefined"==typeof n?"undefined":e(n)))){var r=n.then;if("function"==typeof r)return r.call(n,function(e){o||(o=!0,n!==e?s(t,e):l(t,e))},function(n){o||(o=!0,h(t,n))}),!0}}catch(n){return o||h(t,n),!0}return!1}function s(t,n){t!==n&&a(t,n)||l(t,n)}function l(t,n){t.state_===b&&(t.state_=x,t.data_=n,u(d,t))}function h(t,n){t.state_===b&&(t.state_=x,t.data_=n,u(y,t))}function p(t){var n=t.then_;t.then_=void 0;for(var e=0;e<n.length;e++)c(n[e])}function d(t){t.state_=_,p(t)}function y(t){t.state_=j,p(t)}function m(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof m==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],f(t,this)}var v=o.Promise,g=v&&"resolve"in v&&"reject"in v&&"all"in v&&"race"in v&&function(){var t;return new v(function(n){t=n}),"function"==typeof t}();n?(n.Promise=g?v:m,n.Polyfill=m):t.exports=g?v:m;var w,b="pending",x="sealed",_="fulfilled",j="rejected",E=function(){},T="undefined"!=typeof setImmediate?setImmediate:setTimeout,P=[];m.prototype={constructor:m,state_:b,then_:null,data_:void 0,then:function(t,n){var e={owner:this,then:new this.constructor(E),fulfilled:t,rejected:n};return this.state_===_||this.state_===j?u(c,e):this.then_.push(e),e.then},catch:function(t){return this.then(null,t)}},m.all=function(t){var n=this;if(!r(t))throw new TypeError("You must pass an array to Promise.all().");return new n(function(n,e){function o(t){return u++,function(e){i[t]=e,--u||n(i)}}for(var r,i=[],u=0,f=0;f<t.length;f++)r=t[f],r&&"function"==typeof r.then?r.then(o(f),e):i[f]=r;u||n(i)})},m.race=function(t){var n=this;if(!r(t))throw new TypeError("You must pass an array to Promise.race().");return new n(function(n,e){for(var o,r=0;r<t.length;r++)o=t[r],o&&"function"==typeof o.then?o.then(n,e):n(o)})},m.resolve=function(t){var n=this;return t&&"object"===("undefined"==typeof t?"undefined":e(t))&&t.constructor===n?t:new n(function(n){n(t)})},m.reject=function(t){var n=this;return new n(function(n,e){e(t)})}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)}),r=o.Promise,i=function(){};exports.formatTime=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/MM/dd hh:mm:ss";if(!t)return"";t="number"==typeof t?new Date(t):t;var e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in e)new RegExp("("+o+")").test(n)&&(n=n.replace(RegExp.$1,1==RegExp.$1.length?e[o]:("00"+e[o]).substr((""+e[o]).length)));return n},exports.ctDate=function(t){if(!t)return"";var n=Date.now(),e=void 0;switch(t="number"==typeof t?t:+new Date(t),e=n-t,Math.floor(e/36e5/24)){case 0:return"今天";case 1:return"昨天";case 2:return"两天前";case 3:return"三天前";case 4:return"四天前";case 5:return"五天前";default:return formatTime(t)}};exports.assign=function(){for(var t=[].slice.apply(arguments),n=t.shift(),e=t.length,o=0,r=void 0;o<e;o++){var i=t[o];for(r in i)n[r]=i[r]}return n};exports.loading=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"加载中",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"loading";wx.showToast({title:t,icon:e,duration:n})},exports.hideLoading=function(){wx.hideToast()};exports._alert=function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:"提示";return t=e(t),model(t)},exports._confirm=function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:"提示";return t=e(t),n(t,!0)};exports.decodeHtml=function(t){if(!t)return"";t="function"==typeof t?t():t.toString();var n=/&\w+;|&#(\d+);|<\w+>/g,e={"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&quot;":'"',"©":"","<br>":"\n"};return t.replace(n,function(t,n){return e[t]?e[t]:t})},exports.param=function(t){var n,e,o=[];for(n in t)e=t[n],o[o.length]=n+"="+e;return o.join("&")},exports.pubsub={cache:{},$on:function(){},$emit:function(){}}});
